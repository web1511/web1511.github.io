<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css">
    <style>
       .wrap{
           height:100%;
       }
       .list{
           width:220px;
           border:1px solid #d2d2d2;
           height: 100%;
           padding-bottom:20px;
           background: #424a5d;
       }
       .list ul{
           min-height: 400px;
           max-height:600px;
           overflow-y:auto; 
       }
       .list li{
         background: #424a5d;
         cursor: pointer;

       }
       .list .listTitle{
           height:36px;
           line-height:36px;
           text-align:left;
           padding-left:20px;
           background: #424a5d;
           color:#fff;
           overflow: hidden;
           text-overflow: ellipsis;
           white-space: nowrap;
       }
       .list .listmsg {
           display:none;
       }
       .list .listmsg a{
           display:block;
           width: 100%;
           color:#ccc;
           line-height:32px;
           line-height:32px;
           text-align: center;
           overflow: hidden;
           text-overflow: ellipsis;
           white-space: nowrap;
           
       }
       .list .listmsg a:hover{
         background: #676f82;
       }
       .com_right{
           margin-left:222px;
           height:100%;
       }
       .com_right iframe{
           width:100%;
           height:100%;
       }
    </style>
</head>
<body>
    <div class="clearfix wrap">
        <div class="list fl">
            <ul id="menu">
                <!-- <li>
                   <div class="listTitle">玩转属性操作 ></div>
                   <div class="listmsg">
                      <a href="">揉捏div揉捏div揉捏div揉捏div</a> 
                      <a href="">揉捏div</a> 
                      <a href="">揉捏div</a> 
                   </div>
                </li> -->
            </ul>
        </div>
        <div class="com_right">
            <iframe src="乘法表.html" frameborder="0" id="iframe">
                
            </iframe>
        </div>
    </div>
    <script src="js/config.js"></script>
    <script>
        /**
         * https://www.cnblogs.com/sminocence/p/6546891.html
         * **/
        var menu = $('#menu');
        var iframe = $('#iframe');
        var listTitle = menu.getElementsByClassName('listTitle');
        var listmsg = menu.getElementsByClassName('listmsg');
        var comUrl = menu.getElementsByClassName('comUrl');
        var bg = '#676f82';
        createLi();
        toUrlFn();
        autoUrl();
        function toUrlFn() {
            for( var i=0;i<listTitle.length;i++ ) {
                listTitle[i].num = i;
                listTitle[i].onOff = true;
                listTitle[i].addEventListener('click',function() {
                     for( j=0;j<listmsg.length;j++) {
                         if( j != this.num ) {
                            listmsg[j].style.display = 'none';
                            listTitle[j].onOff = true;
                         }
                     }
                     if( this.onOff ) {
                        listmsg[this.num].style.display = 'block';
                     }else{
                        listmsg[this.num].style.display = 'none';
                     }
                    this.onOff = !this.onOff;
                },false);
            }

            /**跳转**/

            for ( var i=0;i<comUrl.length;i++ ) {
                comUrl[i].now = i;
                comUrl[i].onclick = function() {
                    for( var j=0;j<comUrl.length;j++) {
                        comUrl[j].style.background = '';
                    }
                    comUrl[this.now].style.background = bg;
                    var h = getQueryObject(this.getAttribute('_href')).type;
                    iframe.src = this.getAttribute('_href');
                    location.hash =  h;
                }
            }
           
        }
        function createLi() {
            var str = '';
            var len = listObj.length;
            for( var i=0;i<len;i++) {
                str += '<li> <div class="listTitle"> '+listObj[i].title+'></div><div class="listmsg">';
                for( j=0;j<listObj[i].url.length;j++) {
                    str += '<a href="javascript:;" _href="'+listObj[i].url[j].t+'.html?type='+listObj[i].url[j].type+'" class="comUrl">'+listObj[i].url[j].t+'</a>';
                }        
                str +='</div></li>';
            }
            menu.innerHTML = str;
        }
        
        function autoUrl () {
            var hash = location.hash.substr(1);
            for ( var i=0;i<comUrl.length;i++ ) {
                var t =  getQueryObject(comUrl[i].getAttribute('_href')).type;
                if( t == hash ) {                  
                   comUrl[i].parentNode.previousSibling.click();
                   comUrl[i].style.background = bg;
                   iframe.src = comUrl[i].getAttribute('_href');
                   break; 
                }
            }
        }
    </script>
</body>
</html>